{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/idris bohra/Desktop/Development/posting/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/idris bohra/Desktop/Development/posting/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/idris bohra/Desktop/Development/posting/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'./App.css';import{LoginSocialFacebook}from'reactjs-social-login';import{FacebookLoginButton}from'react-social-login-buttons';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),shortaccess=_useState2[0],setshortaccess=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),longaccess=_useState4[0],setlongaccess=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),userid=_useState6[0],setuserid=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setusername=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),file=_useState10[0],setfile=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),url=_useState12[0],seturl=_useState12[1];var App_secret=\"40f694e5ce03df5da9aafd4894fcd8ce\";var Appid=\"696423145190343\";// window.FB.login(function(response){\n//   // handle the response \n//   console.log(response)\n// });\n// setTimeout(() => {\n//   window.FB.logout(function(response){\n//     // handle the response \n//     console.log(\"logged out\" , response)\n//   });\n// }, 10000);\nuseEffect(function(){axios.get(\"https://graph.facebook.com/oauth/access_token?grant_type=fb_exchange_token&client_id=\".concat(Appid,\"&client_secret=\").concat(App_secret,\"&fb_exchange_token=\").concat(shortaccess)).then(function(data){console.log(\"long user access token  = \",data);setlongaccess(data.data.access_token);}).catch(function(error){console.log(\"error_long_access_token\",error);});},[shortaccess]);useEffect(function(){axios.get(\"https://graph.facebook.com/me?access_token=\".concat(longaccess)).then(function(data){console.log(\"user id me  = \",data);setuserid(data.data.id);setusername(data.data.name);}).catch(function(error){console.log(\"user id error me\",error);});},[longaccess]);useEffect(function(){axios.get(\"https://graph.facebook.com/\".concat(userid,\"?fields=id,name,email,picture&access_token=\").concat(longaccess)).then(function(data){console.log(\"various user fields  = \",data);setuserid(data.data.id);setusername(data.data.name);}).catch(function(error){console.log(\"various user fields error\",error);});},[userid]);var handelInputs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(e.target.files[0]);console.log(e.target.result);setfile(e.target.files[0]);if(!e.target.files[0]){_context.next=9;break;}_context.next=6;return convertbase64();case 6:_url=_context.sent;seturl(_url);console.log(_url);case 9:case\"end\":return _context.stop();}}},_callee);}));return function handelInputs(_x){return _ref.apply(this,arguments);};}();var convertbase64=function convertbase64(){console.log(\"convertbase64 is called\");return new Promise(function(resolve,reject){var reader=new FileReader();reader.readAsDataURL(file);reader.onload=function(){resolve(reader.result);};reader.onerror=function(err){reject(err);};});};useEffect(function(){var data=new FormData();data.append('access_token',longaccess);data.append('source',url);data.append('message',\"this is my messege spread love and faith\");console.log(data);console.log(longaccess);axios.get(\"https://graph.facebook.com/\".concat(userid,\"/accounts?access_token=\").concat(longaccess)).then(function(data){console.log(data);}).catch(function(err){console.log(err);});window.FB.api(\"/me/photos\",\"POST\",{\"url\":\"\".concat(url)},function(response){if(response&&!response.error){/* handle the result */console.log(response);}});},[url]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"idris bohra \"}),/*#__PURE__*/_jsx(LoginSocialFacebook,{appId:\"696423145190343\",onResolve:function onResolve(data){console.log(\"data = \",data);setshortaccess(data.data.accessToken);},onReject:function onReject(error){console.log(error);},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"200px\"},children:/*#__PURE__*/_jsx(FacebookLoginButton,{})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",src:\"\",onChange:handelInputs,alt:\"\"})]});}export default App;","map":{"version":3,"names":["useEffect","useState","LoginSocialFacebook","FacebookLoginButton","axios","App","shortaccess","setshortaccess","longaccess","setlongaccess","userid","setuserid","username","setusername","file","setfile","url","seturl","App_secret","Appid","get","then","data","console","log","access_token","catch","error","id","name","handelInputs","e","target","files","result","convertbase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","err","FormData","append","window","FB","api","response","accessToken","width"],"sources":["C:/Users/idris bohra/Desktop/Development/posting/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport './App.css';\nimport {LoginSocialFacebook} from 'reactjs-social-login'\nimport {FacebookLoginButton} from 'react-social-login-buttons'\nimport axios from 'axios';\n\nfunction App() {\n\n  const [shortaccess, setshortaccess] = useState(null);\n  const [longaccess, setlongaccess] = useState(null);\n  const [userid, setuserid] = useState(null);\n  const [username, setusername] = useState(null);\n  const [file, setfile] = useState(null);\n  const [url, seturl] = useState(null);\n\n  const App_secret = \"40f694e5ce03df5da9aafd4894fcd8ce\";\n  const Appid = \"696423145190343\";\n\n  // window.FB.login(function(response){\n  //   // handle the response \n  //   console.log(response)\n  // });\n\n  // setTimeout(() => {\n  //   window.FB.logout(function(response){\n  //     // handle the response \n  //     console.log(\"logged out\" , response)\n  //   });\n  // }, 10000);\n\n  useEffect(() => {\n\n    axios.get(`https://graph.facebook.com/oauth/access_token?grant_type=fb_exchange_token&client_id=${Appid}&client_secret=${App_secret}&fb_exchange_token=${shortaccess}`).then((data)=>{\n\n      console.log(\"long user access token  = \", data)\n      setlongaccess(data.data.access_token)\n\n    }).catch((error)=>{\n\n      console.log(\"error_long_access_token\", error)\n      \n    })\n\n  }, [shortaccess])\n\n  useEffect(() => {\n\n    axios.get(`https://graph.facebook.com/me?access_token=${longaccess}`).then((data)=>{\n      console.log(\"user id me  = \", data)\n      setuserid(data.data.id);\n      setusername(data.data.name);\n    }).catch((error)=>{\n      console.log(\"user id error me\", error)\n    })\n\n  }, [longaccess])\n\n  useEffect(() => {\n\n    axios.get(`https://graph.facebook.com/${userid}?fields=id,name,email,picture&access_token=${longaccess}`).then((data)=>{\n      console.log(\"various user fields  = \", data)\n      setuserid(data.data.id);\n      setusername(data.data.name);\n    }).catch((error)=>{\n      console.log(\"various user fields error\", error)\n    })\n\n  }, [userid])\n\n\n\n\n  const handelInputs = async (e)=>{\n\n    console.log(e.target.files[0]);\n    console.log(e.target.result);\n\n    setfile(e.target.files[0])\n\n    if(e.target.files[0])\n    {\n      const url = await convertbase64();\n      seturl(url);\n      console.log(url);\n    }\n}\n\n\nconst convertbase64 = ()=>{\n\n  console.log(\"convertbase64 is called\")\n\n  return new Promise((resolve, reject)=>{\n    const reader  = new FileReader();\n\n    reader.readAsDataURL(file)\n\n    reader.onload = ()=>{\n      resolve(reader.result);\n    }\n\n    reader.onerror = (err)=>{\n      reject(err)\n    }\n\n  })\n}\n\nuseEffect(() => {\n  \n  var data = new FormData();\n  data.append('access_token', longaccess);\n  data.append('source', url);\n  data.append('message', \"this is my messege spread love and faith\");\n\n  console.log(data)\n  console.log(longaccess)\n\n  axios.get(`https://graph.facebook.com/${userid}/accounts?access_token=${longaccess}`).then((data)=>{\n    console.log(data);\n  }).catch((err)=>{\n    console.log(err);\n  })\n\n  window.FB.api(\n    \"/me/photos\",\n    \"POST\",\n    {\n        \"url\": `${url}`\n    },\n    function (response) {\n      if (response && !response.error) {\n        /* handle the result */\n        console.log(response)\n      }\n    }\n    );\n \n}, [url])\n\n\n\n  \n  \n\n  return (\n    <>\n    <h1>idris bohra </h1>\n\n\n    <LoginSocialFacebook\n    appId='696423145190343'\n    onResolve={(data)=>{\n      console.log(\"data = \", data);\n      setshortaccess(data.data.accessToken);\n    }}\n    onReject={(error)=>{\n      console.log(error)\n    }}\n    ><div style={{width:\"200px\"}}><FacebookLoginButton/></div></LoginSocialFacebook>\n\n    <input type=\"file\" src=\"\" onChange={handelInputs} alt=\"\"/>\n\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}